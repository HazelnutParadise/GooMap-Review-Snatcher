import{b as k,E,I as p,a as b,p as v,U as I,r as N,a0 as T,v as h,x as d,w as x,a1 as A,m as g,a2 as y,a3 as F}from"./template-Ck2fRipi.js";function U(f,n,s=!1){var r=f,a=null,e=null,c=I,i=s?E:0,t=!1;const l=(u,o=!0)=>{t=!0,_(o,u)},_=(u,o)=>{c!==(c=u)&&(c?(a?p(a):o&&(a=b(()=>o(r))),e&&v(e,()=>{e=null})):(e?p(e):o&&(e=b(()=>o(r))),a&&v(a,()=>{a=null})))};k(()=>{t=!1,n(l),t||_(null,null)},i)}function q(f=!1){const n=N,s=n.l.u;if(!s)return;let r=()=>y(n.s);if(f){let a=0,e={};const c=F(()=>{let i=!1;const t=n.s;for(const l in t)t[l]!==e[l]&&(e[l]=t[l],i=!0);return i&&a++,a});r=()=>g(c)}s.b.length&&T(()=>{m(n,r),d(s.b)}),h(()=>{const a=x(()=>s.m.map(A));return()=>{for(const e of a)typeof e=="function"&&e()}}),s.a.length&&h(()=>{m(n,r),d(s.a)})}function m(f,n){if(f.l.s)for(const s of f.l.s)g(s);n()}export{q as a,U as i};
